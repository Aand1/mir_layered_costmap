<!-- -->
<launch>
	<param name="use_sim_time" value="true" />

	<include file="$(find mirCommon)/launch/mir_bringup.launch"/>

	<node pkg="tf" type="static_transform_publisher" name="blue_print_link_broadcaster" args="0. 0. 0 0 0 0 map blue_print_map 20" />   
<!--
	<node name="ros_map_server" pkg="map_server" type="map_server" args="$(find sim_dynamic_world)/world/navigation_simulation_with_features.yaml">
		<remap from="/map" to="/blue_print_map" />
	</node>
-->
  <node name="costmap" pkg="layered_costmap_2d" type="costmap_2d_node" output="screen" >
		<rosparam file="$(find user_priority_map)/launch/sim_priority_layer.yaml" command="load" ns="costmap"/> 
		<remap from="/costmap/costmap/costmap" to="dynamic_map" />
  </node>

  <node name="occupancy_publisher" pkg="occupancy_image_publish" type="occupancy_image_publish_node" >
	</node>
 
<!-- 	<node name="occupancy_im_shower" pkg="rqt_image_view" type="rqt_image_view" /> -->
 
  <node name="mir_jump_controller1" pkg="sim_dynamic_world" type="jump_to_control" output="screen">
    <param name="name" value="Block 1" />
    <rosparam param="waypoints">  
      [
        [5.0, 0.4, 0.0, 60.0],
        [20.0, 20.0, 0.0, 30.0]
      ]
    </rosparam>
  </node>

  <node name="mir_jump_controller2" pkg="sim_dynamic_world" type="jump_to_control" output="screen">
    <param name="name" value="Block 2" />
    <rosparam param="waypoints">  
      [
        [1.0, 0.3, 0.0, 10.0],
        [0.0, 20.0, 0.0, 30.0]
      ]
    </rosparam>
  </node>

  <node name="visulizer" pkg="rviz" type="rviz" args="-d $(find activity_layer)/config/sim_activity_layer.vcg"/>

  <param name="robot_description" textfile="$(find mirCommon)/urdf/mir.urdf" />

</launch>
